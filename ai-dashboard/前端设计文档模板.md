# 前端设计文档

## 1. 项目概述

### 1.1 项目名称
- **项目名称**：[项目名称]
- **项目描述**：[项目简要描述]
- **项目目标**：[项目要实现的主要目标]

### 1.2 项目背景
- [描述项目产生的背景和原因]

### 1.3 目标用户
- [描述目标用户群体]

## 2. 技术栈

### 2.1 核心技术
- **框架**：Vue 3
- **版本**：3.x
- **语言**：TypeScript
- **API风格**：Composition API（推荐使用 `<script setup>` 语法糖）

### 2.2 构建工具
- **打包工具**：Vite
- **版本**：latest
- **包管理器**：npm / pnpm / yarn

### 2.3 UI框架/组件库
- **UI框架**：Element Plus
- **版本**：latest
- **按需引入**：使用 `unplugin-vue-components` 和 `unplugin-auto-import` 实现自动导入

### 2.4 状态管理
- **状态管理方案**：Pinia
- **版本**：latest
- **持久化插件**：`pinia-plugin-persistedstate`（推荐用于数据持久化）

### 2.5 路由管理
- **路由库**：Vue Router
- **版本**：4.x（Vue 3 专用版本）

### 2.6 样式方案
- **CSS预处理器**：Sass / SCSS（推荐，Element Plus 使用 SCSS）
- **样式方案**：
  - **Scoped CSS**：组件级样式隔离（推荐用于组件样式）
  - **CSS Modules**：模块化 CSS（可选）
  - **全局样式**：`src/styles/` 目录下的全局样式文件
- **样式变量**：使用 SCSS 变量统一管理主题色、间距等
- **Element Plus 主题定制**：通过 SCSS 变量覆盖 Element Plus 默认主题

### 2.7 工具库
- **HTTP请求**：Fetch API（原生，无需额外依赖）
  - **封装方案**：自定义 `utils/request.ts` 封装 Fetch，支持拦截器、错误处理等
  - **类型安全**：使用 TypeScript 定义请求和响应类型
- **工具函数库**：Lodash（按需引入，推荐使用 `lodash-es`）
- **日期处理**：Day.js（轻量级，推荐）或 date-fns
- **表单处理**：Element Plus Form 组件 + 自定义验证规则
- **图标库**：@element-plus/icons-vue（Element Plus 官方图标库）
  - **安装**：`npm install @element-plus/icons-vue`
  - **使用方式**：按需引入图标组件
    ```vue
    <template>
      <el-icon><Edit /></el-icon>
      <el-icon><Delete /></el-icon>
    </template>
    <script setup lang="ts">
    import { Edit, Delete } from '@element-plus/icons-vue';
    </script>
    ```
  - **图标组件封装**：可封装常用图标为全局组件
  - **其他图标库**：
    - `@iconify/vue`：支持 Iconify 图标集（推荐，图标丰富）
    - `vue-icons`：Vue 图标库
    - `@vueuse/core`：包含一些常用图标

### 2.8 开发工具
- **代码规范**：
  - **ESLint**：代码质量检查
    - 插件：`eslint-plugin-vue`（Vue 3 规则）
    - 配置：使用 Vue 3 推荐规则
  - **Prettier**：代码格式化
    - 配置：与 ESLint 集成，统一代码风格
    - 格式化范围：`.vue`、`.ts`、`.js`、`.json`、`.scss` 等文件
- **类型检查**：
  - **TypeScript**：静态类型检查
  - **Vue TSC**：Vue 3 官方类型检查工具（`vue-tsc`）
  - **Volar**：VSCode 插件，提供 Vue 3 类型支持和智能提示
- **测试框架**：Vitest
  - **版本**：latest
  - **测试工具**：Vitest + @vue/test-utils
  - **覆盖率工具**：内置覆盖率报告

## 3. 项目结构

### 3.1 目录结构
```
[项目根目录]/
├── public/                 # 静态资源
├── src/
│   ├── assets/            # 资源文件（图片、字体等）
│   │   ├── images/        # 图片资源
│   │   ├── icons/         # 图标资源
│   │   └── fonts/         # 字体资源
│   ├── components/        # 公共组件
│   │   ├── common/        # 通用组件
│   │   └── business/      # 业务组件
│   ├── views/             # 页面组件（或 pages/）
│   ├── layouts/           # 布局组件
│   ├── composables/       # 组合式函数（Vue 3 Composition API）
│   ├── utils/             # 工具函数
│   ├── api/               # API服务（或 services/）
│   ├── stores/            # Pinia状态管理（或 store/）
│   ├── router/            # 路由配置
│   ├── styles/            # 全局样式
│   │   ├── variables.scss # 样式变量（主题色、间距等）
│   │   ├── mixins.scss    # 样式混入
│   │   ├── element-plus.scss # Element Plus 主题定制
│   │   └── index.scss     # 全局样式入口
│   ├── types/             # TypeScript类型定义
│   ├── constants/         # 常量定义
│   ├── directives/        # 自定义指令
│   ├── plugins/           # 插件配置
│   ├── App.vue            # 根组件
│   └── main.ts            # 应用入口文件
├── .env                   # 环境变量
├── .env.development       # 开发环境变量
├── .env.production        # 生产环境变量
├── vite.config.ts         # Vite配置文件
├── tsconfig.json          # TypeScript配置
├── tsconfig.node.json     # Node 环境 TypeScript 配置
├── .eslintrc.cjs          # ESLint 配置
├── .prettierrc            # Prettier 配置
├── .prettierignore        # Prettier 忽略文件
├── vitest.config.ts       # Vitest 测试配置
├── package.json
└── README.md
```

### 3.2 命名规范
- **组件命名**：PascalCase（如：`UserProfile.vue`）
- **组件文件命名**：PascalCase（如：`UserProfile.vue`）或 kebab-case（如：`user-profile.vue`）
- **组合式函数命名**：camelCase，以 `use` 开头（如：`useUserInfo.ts`）
- **变量命名**：camelCase（如：`userName`）
- **常量命名**：UPPER_SNAKE_CASE（如：`API_BASE_URL`）
- **类型/接口命名**：PascalCase，接口以 `I` 开头或直接使用类型名（如：`IUserInfo` 或 `UserInfo`）

## 4. 页面设计

### 4.1 页面列表
| 页面名称 | 路由路径 | 页面描述 | 优先级 |
|---------|---------|---------|--------|
| 首页 | / | 首页，包含四个导航页签 | 高 |
| 组织/岗位AI成熟度看板 | /dashboard/maturity | 组织/岗位AI成熟度看板页面 | 高 |
| AI训战看板 | /dashboard/training | AI训战看板页面 | 高 |
| AI训战看板详情 | /dashboard/training/detail/:id | AI训战看板详情页 | 高 |
| AI School看板 | /dashboard/school | AI School看板页面 | 高 |
| AI School看板详情 | /dashboard/school/detail/:id | AI School看板详情页 | 高 |
| AI任职认证看板 | /dashboard/certification | AI任职认证看板页面 | 高 |
| AI任职认证看板详情 | /dashboard/certification/detail/:id | AI任职认证看板详情页 | 高 |

### 4.2 页面详细设计

#### 4.2.1 首页
- **路由路径**：`/`
- **页面描述**：应用首页，包含四个看板标签，用户可以通过点击跳转到对应的看板页面
- **功能需求**：
  - 显示四个看板页签：组织/岗位AI成熟度看板、AI训战看板、AI School看板、AI任职认证看板
  - 组织/岗位AI成熟度看板为总览看板，其他三个看板为次看板。请注意页面布局设计，要求美观并且布局设计合理
  - 页面支持路由导航，使用 Vue Router 进行页面跳转
  - 站点名称AI转型IT看板，请注意网站名称是否一致
- **UI设计**：
  - 看板标签用卡片设计
  - 页签布局：支持响应式设计
- **交互逻辑**：
  - 用户点击页签，通过 `router.push()` 跳转到对应路由
  - 根据当前路由路径自动激活对应页签
  - 支持浏览器前进/后退导航
- **数据需求**：
  - 页签配置数据（名称、路由路径、图标等）
  - 当前激活的页签索引

#### 4.2.2 组织/岗位AI成熟度看板
- **路由路径**：`/dashboard/maturity`
- **页面描述**：展示组织/岗位AI成熟度的数据看板，包含各类统计图表和指标
- **功能需求**：
  - 展示组织/岗位AI成熟度相关数据
  - 支持数据筛选（按组织、岗位、时间等）
  - 支持数据下钻查看详情
  - 支持数据导出
- **UI设计**：
  - 使用 Element Plus 的卡片、表格、图表组件
  - 响应式布局，适配不同屏幕尺寸
- **交互逻辑**：
  - 从首页页签点击跳转进入
  - 支持筛选条件变更，实时更新数据
  - 支持点击数据项下钻查看详情
- **数据需求**：
  - 组织/岗位列表数据
  - AI成熟度指标数据
  - 统计数据（总数、平均值等）

#### 4.2.3 AI训战看板
- **路由路径**：`/dashboard/training`
- **页面描述**：展示AI训战相关的数据看板
- **功能需求**：
  - 个人训战总览（训练分类、课程总数、目标完成课数、实际完课数、完课占比）训战分类分为初阶、中阶、高阶、实战、总计，其中课程总数、目标完成课数、实际完课数可以下钻到AI训战看板详情
  - 专家训战总览（专家岗位成熟度等级、专家人数、初阶课程数、中阶课程数、高阶课程数、实战课程数、初阶课程平均完课人数、中阶课程平均完课人数、高阶课程平均完课人数、实战课程平均完课人数、初阶课程平均完课率、中阶课程平均完课率、高阶课程平均完课率、实战课程平均完课率），专家岗位成熟度等级分为L1、L2、L3、总计
  - 干部训战总览（干部岗位成熟度等级、干部人数、初阶课程数、中阶课程数、高阶课程数、实战课程数、初阶课程平均完课人数、中阶课程平均完课人数、高阶课程平均完课人数、实战课程平均完课人数、初阶课程平均完课率、中阶课程平均完课率、高阶课程平均完课率、实战课程平均完课率），专家岗位成熟度等级分为L1、L2、L3、总计
  - 专家干部训战总览表部专家干部人数、初阶课程数、中阶课程数、高阶课程数、实战课程数、初阶课程平均完课人数、中阶课程平均完课人数、高阶课程平均完课人数、实战课程平均完课人数均可下钻到AI训战看板详情
  - 全员训战总览，三个表格最后一行均存在总计数据，其中基线人数、初阶课程数、中阶课程数、高阶课程数、实战课程数、初阶课程平均完课人数、中阶课程平均完课人数、高阶课程平均完课人数、实战课程平均完课人数均可下钻到AI训战看板详情
    （部门、基线人数、初阶课程数、中阶课程数、高阶课程数、实战课程数、初阶课程平均完课人数、中阶课程平均完课人数、高阶课程平均完课人数、实战课程平均完课人数、初阶课程平均完课率、中阶课程平均完课率、高阶课程平均完课率、实战课程平均完课率）
    （组织岗位成熟度等级、基线人数、初阶课程数、中阶课程数、高阶课程数、实战课程数、初阶课程平均完课人数、中阶课程平均完课人数、高阶课程平均完课人数、实战课程平均完课人数、初阶课程平均完课率、中阶课程平均完课率、高阶课程平均完课率、实战课程平均完课率），组织成熟度等级为L1、L2、L3和总计
    （职位、基线人数、初阶课程数、中阶课程数、高阶课程数、实战课程数、初阶课程平均完课人数、中阶课程平均完课人数、高阶课程平均完课人数、实战课程平均完课人数、初阶课程平均完课率、中阶课程平均完课率、高阶课程平均完课率、实战课程平均完课率）
  - 支持六级部门级联筛选，刷新专家训战总览、干部训战总览、全员训战总览表
  - 支持角色选择（支持干部/专家/基层主管数据查询，默认全员筛选），刷新全员训战总览表
  - 顶部训战课程规划表，超链接可下载具体文档
- **UI设计**：
  - 使用 Element Plus 的表格、卡片、进度条等组件
  - 列表展示训练任务，支持分页
- **交互逻辑**：
  - 从首页页签点击跳转进入
  - 点击列表项跳转到详情页（路由：`/dashboard/training/detail/:id`）
  - 支持筛选、搜索、排序等操作
- **数据需求**：
  - 个人训战总览
  - 专家干部训战总览
  - 全员训战总览

#### 4.2.4 AI训战看板详情
- **路由路径**：`/dashboard/training/detail/:id`
- **页面描述**：AI训战看板的详情页面
- **功能需求**：
  - AI训战数据（姓名、工号、职位类、职位子类、一级部门、二级部门、三级部门、四级部门、五级部门、最小部门、训战分类、课程分类、课程名称、是否目标课程、是否完课、完课日期、是否干部、干部类型、是否专家、是否基层主管、组织AI成熟度、岗位AI成熟度）
  - 训战课程规划（训战分类、课程名称、课程编码、目标人群、学分）其中课程名称、课程编码可跳转外部链接课程详情
  - 支持六级部门级联筛选
  - 支持职位族、职位类、职位子类筛选
  - 支持角色选择（支持干部/专家/基层主管数据查询，默认全员筛选）
  - 支持岗位成熟度评估筛选（L1、L2、L3，默认是全员
  - 支持返回按钮返回列表页
- **UI设计**：
  - 使用 Element Plus 的卡片、表格组件
  - 详情信息分区域展示
- **交互逻辑**：
  - 从AI训战看板列表页点击进入
  - 支持返回按钮返回列表页
- **数据需求**：
  - AI训战数据明细
  - 训战课程规划明细

#### 4.2.5 AI School看板
- **路由路径**：`/dashboard/school`
- **页面描述**：展示AI School相关的数据看板，包含课程、学习进度等信息
- **功能需求**：
  - 个人数据总览（目标学分、当前学分、个人学分达成率、所在最小部门标杆学分达成率、时间进度学分目标、学分达成日期、学分状态预警），其中当前学分、个人学分达成率、所在最小部门标杆学分达成率、时间进度学分目标可以下钻到AI School看板详情
  - 专家学分总览（专家岗位成熟度等级、专家人数、专家个人最高学分、专家个人最低学分、当前平均学分、目标平均学分、学分达成率、时间进度学分目标、学分状态预警）其中专家人数、专家个人最高学分、专家个人最低学分、当前平均学分、目标平均学分可以下钻到AI School看板详情，专家岗位成熟度等级分为四行，L1、L2、L3、总计
  - 干部学分总览（干部岗位成熟度等级、干部人数、干部个人最高学分、干部个人最低学分、当前平均学分、目标平均学分、学分达成率、时间进度学分目标、学分状态预警）干部人数、干部个人最高学分、干部个人最低学分、当前平均学分、目标平均学分可以下钻到AI School看板详情，干部岗位成熟度等级分为四行，L1、L2、L3、总计
  - 全员学分总览表，三个表格最后一行均存在总计数据
  （部门、基线人数、个人最高学分、个人最低学分、平均学分、目标平均学分、学分达成率、时间进度学分目标、学分状态预警），其中基线人数、个人最高学分、个人最低学分、平均学分、目标平均学分可以下钻到AI School看板详情
  （干部岗位成熟度等级、基线人数、个人最高学分、个人最低学分、平均学分、目标平均学分、学分达成率、时间进度学分目标、学分状态预警）其中基线人数、个人最高学分、个人最低学分、平均学分、目标平均学分可以下钻到AI School看板详情，组织成熟度等级为L1、L2、L3和总计
  （职位、基线人数、个人最高学分、个人最低学分、平均学分、目标平均学分、学分达成率、时间进度学分目标、学分状态预警）其中基线人数、个人最高学分、个人最低学分、平均学分、目标平均学分可以下钻到AI School看板详情
  - 支持六级部门级联筛选，刷新专家学分总览、干部学分总览、全员学分总览表
  - 支持角色选择（支持干部/专家/基层主管数据查询，默认全员筛选），刷新全员学分总览表
  - 顶部AI School学分规则表、AI School学分目标表，超链接可下载具体文档
- **UI设计**：
  - 使用 Element Plus 的卡片、表格、进度条等组件
  - 卡片式或列表式展示课程
- **交互逻辑**：
  - 从首页页签点击跳转进入
  - 点击课程项跳转到详情页（路由：`/dashboard/school/detail/:id`）
  - 支持筛选、搜索等操作
- **数据需求**：
  - 课程列表数据
  - 学习进度数据
  - 课程分类数据

#### 4.2.6 AI School看板详情
- **路由路径**：`/dashboard/school/detail/:id`
- **页面描述**：AI School看板的详情页面
- **功能需求**：
  - AI School学分数据明细（姓名、工号、职位类、职位子类、一级部门、二级部门、三级部门、四级部门、五级部门、最小部门、是否干部、干部类型、是否专家、是否基层主管、组织AI成熟度、岗位AI成熟度、当前学分、学分达成率、所在最小部门标杆学分达成率、学分达成日期、时间进度学分目标、学分状态预警）
  - AI SChool学分规则表明细（学分来源类型、训练内容、学分值）
  - 支持六级部门级联筛选
  - 支持职位族、职位类、职位子类筛选
  - 支持角色选择（支持干部/专家/基层主管数据查询，默认全员筛选）
  - 支持岗位成熟度评估筛选（L1、L2、L3，默认是全员）
  - 支持返回列表页
- **UI设计**：
  - 使用 Element Plus 的卡片、表格、进度条等组件
  - 课程信息分区域展示
- **交互逻辑**：
  - 从AI School看板列表页点击进入
  - 支持返回按钮返回列表页
- **数据需求**：
  - 课程详情数据（通过路由参数 `id` 获取）
  - 课程章节数据
  - 学习进度数据

#### 4.2.7 AI任职认证看板
- **路由路径**：`/dashboard/certification`
- **页面描述**：展示AI任职认证相关的数据看板
- **功能需求**：
  - 专家AI任职认证数据表格1（专家岗位AI成熟度评估/职位类、基线人数、已完成AI认证人数、AI认证人数占比），其中基线人数、已完成AI认证人数可以下钻到AI任职认证看板详情
  - 专家AI任职认证数据表格2（专家岗位AI成熟度评估/职位类、基线人数、AI任职人数、按要求AI任职人数、AI任职率、按要求AI认证人数占比），其中基线人数、AI任职人数、按要求AI任职人数可以下钻到AI任职认证看板详情
  - 干部AI任职认证数据表格1（干部岗位AI成熟度评估/职位类、基线人数、AI专业级持证人数、科目二通过人数、AI专业级持证率、科目二通过率、按要求持证率），其中基线人数、AI专业级持证人数可以下钻到AI任职认证看板详情
  - 干部AI任职认证数据表格2（干部岗位AI成熟度评估/职位类、基线人数、AI任职人数、按要求AI任职人数、AI任职率、按要求AI认证人数占比），其中基线人数、AI任职人数、按要求AI任职人数可以下钻到AI任职认证看板详情
  - 全员任职认证数据，其中任职、认证人数用柱状图展示，任职、认证人数占比用折线图展示
  图表1.部门任职数据（任职人数、任职人数占比）
  图表2.组织AI成熟度任职数据（任职人数、任职人数占比）
  图表3.职位类任职数据（任职人数、任职人数占比）
  图表4.部门认证数据（认证人数、认证人数占比）
  图表5.组织AI成熟度认证数据（认证人数、认证人数占比）
  图表6.职位类认证数据（认证人数、认证人数占比）
  - 支持六级部门级联筛选，筛选刷新专家AI任职认证数据、干部AI任职认证数据、全员任职认证数据
  - 支持角色选择（支持干部/专家/基层主管数据查询，默认全员筛选），只刷新全员任职认证数据
- **UI设计**：
  - 使用 Element Plus 的表格、卡片、标签等组件
  - 列表展示认证考试，支持分页
- **交互逻辑**：
  - 从首页页签点击跳转进入
  - 点击认证项跳转到详情页（路由：`/dashboard/certification/detail/:id`）
- **数据需求**：
  - 专家AI任职认证数据
  - 干部AI任职认证数据
  - 全员任职认证数据

#### 4.2.8 AI任职认证看板详情
- **路由路径**：`/dashboard/certification/detail/:id`
- **页面描述**：AI任职认证看板的详情页面
- **功能需求**：
  - AI认证盘点明细表格（姓名、工号、职位类、职位子类、一级部门、二级部门、三级部门、四级部门、五级部门、六级部门、最小部门、证书名称、证书生效日期、是否通过AI任职科目二、是否干部、干部类型、是否专家、是否基层主管、组织AI成熟度、岗位AI成熟度、要求持证类型、是否达标）
  - AI任职盘点明细表格（姓名、工号、职位类、职位子类、一级部门、二级部门、三级部门、四级部门、五级部门、六级部门、最小部门、专业任职资格类、专家任职资格类（仅体现AI）、专业任职资格子类、任职资格方向、专业任职资格级别、专业任职资格获取方式、任职资格生效日期、任职资格失效日期、是否干部、干部类型、是否专家、是否基层主管、组织AI成熟度、岗位AI成熟度、要求持证类型、是否达标）
  - 支持六级部门级联筛选
  - 支持职位族、职位类、职位子类筛选
  -支持角色选择（支持干部/专家/基层主管数据查询，默认全员筛选）
  -支持岗位成熟度评估筛选（L1、L2、L3，默认是全员）
  - 支持返回列表页
- **UI设计**：
  - 使用 Element Plus 的卡片、表单、结果展示等组件
  - 考试信息分区域展示
- **交互逻辑**：
  - 从AI任职认证看板列表页点击进入
  - 支持返回按钮返回列表页
  - 支持考试操作按钮
- **数据需求**：
  - AI认证盘点明细数据
  - AI任职盘点明细数据

## 5. 组件设计

### 5.1 公共组件列表
| 组件名称 | 组件路径 | 组件描述 | 使用场景 |
|---------|---------|---------|---------|
| [组件1] | components/[path] | [描述] | [场景] |
| [组件2] | components/[path] | [描述] | [场景] |

### 5.2 组件详细设计

#### 5.2.1 [组件名称]
- **组件路径**：`components/[path]/[ComponentName].vue`
- **组件描述**：[组件功能描述]
- **组件类型**：[展示组件 / 容器组件 / 布局组件]
- **Props定义**：
  ```typescript
  interface ComponentProps {
    // [属性名]: [类型]; // [描述]
    // prop1: string; // 必填属性
    // prop2?: number; // 可选属性
  }
  ```
- **Emits定义**：
  ```typescript
  interface ComponentEmits {
    // (event: '[事件名]', ...args: [参数类型]): void;
    // (event: 'change', value: string): void;
  }
  ```
- **使用示例**：
  ```vue
  <template>
    <ComponentName 
      :prop1="value1" 
      :prop2="value2"
      @change="handleChange"
    />
  </template>
  ```
- **组合式函数依赖**：[使用的 composables，如：`useUserInfo`]
- **样式要求**：[样式规范，如：scoped / CSS Modules / 全局样式]

### 5.3 业务组件
[按业务模块划分的组件列表和设计]

### 5.4 组合式函数（Composables）
Vue 3 推荐使用 Composition API 和组合式函数来封装可复用的逻辑。

#### 5.4.1 组合式函数列表
| 函数名称 | 文件路径 | 功能描述 | 使用场景 |
|---------|---------|---------|---------|
| [函数1] | composables/[path] | [描述] | [场景] |
| [函数2] | composables/[path] | [描述] | [场景] |

#### 5.4.2 组合式函数设计示例
- **函数名称**：`use[FunctionName]`
- **文件路径**：`composables/[path]/use[FunctionName].ts`
- **功能描述**：[功能描述]
- **返回值**：
  ```typescript
  interface UseFunctionReturn {
    // [返回值属性]: [类型]; // [描述]
  }
  ```
- **使用示例**：
  ```vue
  <script setup lang="ts">
  import { useFunctionName } from '@/composables/useFunctionName';
  
  const { /* 返回值 */ } = useFunctionName(/* 参数 */);
  </script>
  ```

## 6. 路由设计

### 6.1 路由配置
```typescript
// router/index.ts
import { createRouter, createWebHistory } from 'vue-router';
import type { RouteRecordRaw } from 'vue-router';

const routes: RouteRecordRaw[] = [
  {
    path: '/',
    name: 'Home',
    component: () => import('@/views/Home.vue'),
    meta: {
      title: '首页',
      requiresAuth: false,
      keepAlive: false,
    },
  },
  {
    path: '/dashboard',
    name: 'Dashboard',
    redirect: '/dashboard/maturity',
    meta: {
      title: '看板',
      requiresAuth: true,
    },
    children: [
      {
        path: 'maturity',
        name: 'MaturityDashboard',
        component: () => import('@/views/dashboard/MaturityDashboard.vue'),
        meta: {
          title: '组织/岗位AI成熟度看板',
          requiresAuth: true,
          keepAlive: true,
        },
      },
      {
        path: 'training',
        name: 'TrainingDashboard',
        component: () => import('@/views/dashboard/TrainingDashboard.vue'),
        meta: {
          title: 'AI训战看板',
          requiresAuth: true,
          keepAlive: true,
        },
      },
      {
        path: 'training/detail/:id',
        name: 'TrainingDetail',
        component: () => import('@/views/dashboard/TrainingDetail.vue'),
        meta: {
          title: 'AI训战看板详情',
          requiresAuth: true,
          keepAlive: false,
        },
      },
      {
        path: 'school',
        name: 'SchoolDashboard',
        component: () => import('@/views/dashboard/SchoolDashboard.vue'),
        meta: {
          title: 'AI School看板',
          requiresAuth: true,
          keepAlive: true,
        },
      },
      {
        path: 'school/detail/:id',
        name: 'SchoolDetail',
        component: () => import('@/views/dashboard/SchoolDetail.vue'),
        meta: {
          title: 'AI School看板详情',
          requiresAuth: true,
          keepAlive: false,
        },
      },
      {
        path: 'certification',
        name: 'CertificationDashboard',
        component: () => import('@/views/dashboard/CertificationDashboard.vue'),
        meta: {
          title: 'AI任职认证看板',
          requiresAuth: true,
          keepAlive: true,
        },
      },
      {
        path: 'certification/detail/:id',
        name: 'CertificationDetail',
        component: () => import('@/views/dashboard/CertificationDetail.vue'),
        meta: {
          title: 'AI任职认证看板详情',
          requiresAuth: true,
          keepAlive: false,
        },
      },
    ],
  },
];

const router = createRouter({
  history: createWebHistory(import.meta.env.BASE_URL),
  routes,
});

// 路由守卫
router.beforeEach((to, from, next) => {
  // 设置页面标题
  if (to.meta.title) {
    document.title = `${to.meta.title} - AI平台`;
  }

  // 权限检查
  if (to.meta.requiresAuth) {
    // 检查用户是否登录
    const token = localStorage.getItem('token');
    if (!token) {
      next({ name: 'Home' });
      return;
    }
  }

  next();
});

export default router;
```

### 6.2 路由权限
- **公开路由**：
  - `/` - 首页（无需登录）
- **受保护路由**：
  - `/dashboard/*` - 所有看板页面（需要登录）
  - 包括：组织/岗位AI成熟度看板、AI训战看板、AI School看板、AI任职认证看板及其详情页
- **权限控制方案**：
  - 使用路由守卫 `beforeEach` 检查用户登录状态
  - 通过 `localStorage` 或 Pinia Store 获取 token
  - 未登录用户跳转到首页
  - 已登录用户正常访问受保护路由

### 6.3 路由导航配置
- **首页页签配置**：
  ```typescript
  // constants/tabs.ts
  export const DASHBOARD_TABS = [
    {
      name: 'maturity',
      label: '组织/岗位AI成熟度看板',
      route: '/dashboard/maturity',
      icon: 'DataAnalysis',
    },
    {
      name: 'training',
      label: 'AI训战看板',
      route: '/dashboard/training',
      icon: 'Cpu',
    },
    {
      name: 'school',
      label: 'AI School看板',
      route: '/dashboard/school',
      icon: 'School',
    },
    {
      name: 'certification',
      label: 'AI任职认证看板',
      route: '/dashboard/certification',
      icon: 'Trophy',
    },
  ] as const;
  ```
- **页签激活逻辑**：
  - 根据当前路由路径匹配对应的页签
  - 使用 `router.currentRoute.value.path` 获取当前路径
  - 详情页路由匹配时，激活对应的看板页签

## 7. 状态管理设计

### 7.1 Store结构（Pinia）
```
stores/
├── modules/          # 按模块划分的store
│   ├── user.ts       # 用户相关状态
│   ├── app.ts        # 应用全局状态
│   └── [module].ts   # 其他模块
└── index.ts          # store入口
```

### 7.1.1 Pinia Store 示例
```typescript
// stores/modules/user.ts
import { defineStore } from 'pinia';
import { ref, computed } from 'vue';

export const useUserStore = defineStore('user', () => {
  // State
  const userInfo = ref<UserInfo | null>(null);
  const token = ref<string>('');

  // Getters
  const isLoggedIn = computed(() => !!token.value);

  // Actions
  function setUserInfo(info: UserInfo) {
    userInfo.value = info;
  }

  function setToken(newToken: string) {
    token.value = newToken;
  }

  function logout() {
    userInfo.value = null;
    token.value = '';
  }

  return {
    userInfo,
    token,
    isLoggedIn,
    setUserInfo,
    setToken,
    logout,
  };
});
```

### 7.2 状态定义
#### 7.2.1 [模块名称] Store
- **Store名称**：`use[ModuleName]Store`
- **状态字段（State）**：
  - `[field]`: [类型] - [描述]
- **计算属性（Getters）**：
  - `[getterName]`: [类型] - [描述]
- **方法（Actions）**：
  - `[actionName]([参数]): [返回类型]` - [描述]
- **使用示例**：
  ```vue
  <script setup lang="ts">
  import { useUserStore } from '@/stores/modules/user';
  
  const userStore = useUserStore();
  // 访问状态
  const userName = userStore.userInfo?.name;
  // 调用方法
  userStore.setUserInfo(newInfo);
  </script>
  ```

## 8. API接口设计

### 8.1 接口规范
- **基础URL**：`[API_BASE_URL]`（通过环境变量 `VITE_API_BASE_URL` 配置）
- **请求格式**：JSON（Content-Type: application/json）
- **响应格式**：统一响应格式
  ```typescript
  interface ApiResponse<T = any> {
    code: number;        // 状态码，0 表示成功
    message: string;     // 提示信息
    data: T;             // 响应数据
    timestamp?: number;  // 时间戳
  }
  ```
- **认证方式**：Token（通过请求头 `Authorization: Bearer {token}` 传递）
- **请求封装**：使用 Fetch API 封装请求工具
  ```typescript
  // utils/request.ts 示例结构
  - 请求拦截：添加 token、设置请求头
  - 响应拦截：统一错误处理、token 刷新
  - 超时处理：请求超时自动取消
  - 错误重试：网络错误自动重试机制
  ```
- **Fetch 封装示例**：
  ```typescript
  // utils/request.ts
  interface RequestOptions extends RequestInit {
    timeout?: number;
    retry?: number;
  }

  class Request {
    private baseURL: string;
    private timeout: number;

    constructor(baseURL: string, timeout = 10000) {
      this.baseURL = baseURL;
      this.timeout = timeout;
    }

    async request<T>(url: string, options: RequestOptions = {}): Promise<ApiResponse<T>> {
      // 添加 token
      const headers = {
        'Content-Type': 'application/json',
        ...options.headers,
      };
      const token = localStorage.getItem('token');
      if (token) {
        headers['Authorization'] = `Bearer ${token}`;
      }

      // 超时处理
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), options.timeout || this.timeout);

      try {
        const response = await fetch(`${this.baseURL}${url}`, {
          ...options,
          headers,
          signal: controller.signal,
        });
        clearTimeout(timeoutId);

        const data = await response.json();
        if (!response.ok) {
          throw new Error(data.message || '请求失败');
        }
        return data;
      } catch (error) {
        clearTimeout(timeoutId);
        // 错误处理
        throw error;
      }
    }
  }

  export const request = new Request(import.meta.env.VITE_API_BASE_URL);
  ```

### 8.2 接口列表
| 接口名称 | 请求方法 | 接口路径 | 描述 | 参数 |
|---------|---------|---------|------|------|
| [接口1] | GET/POST/PUT/DELETE | /api/[path] | [描述] | [参数列表] |
| [接口2] | GET/POST/PUT/DELETE | /api/[path] | [描述] | [参数列表] |

### 8.3 接口详细设计
#### 8.3.1 [接口名称]
- **请求路径**：`/api/[path]`
- **请求方法**：`[GET/POST/PUT/DELETE]`
- **请求参数**：
  ```typescript
  {
    // [参数名]: [类型]; // [是否必填] [描述]
  }
  ```
- **响应数据**：
  ```typescript
  {
    // [字段名]: [类型]; // [描述]
  }
  ```
- **错误处理**：[错误码和错误信息]

## 9. 样式设计

### 9.1 设计规范
- **设计系统**：Element Plus Design（基于 Element Plus 设计规范）
- **主题色彩**：
  - 主色：Element Plus 默认主色（可通过 SCSS 变量覆盖）
  - 辅助色：[颜色值]
  - 中性色：[颜色值]
  - **主题定制**：通过 `src/styles/element-plus.scss` 覆盖 Element Plus 变量
- **字体规范**：
  - 字体族：Element Plus 默认字体（可通过变量覆盖）
  - 字号：[字号规范]
  - 行高：[行高规范]
- **间距规范**：使用 Element Plus 间距系统或自定义 SCSS 变量
- **圆角规范**：使用 Element Plus 圆角规范或自定义
- **阴影规范**：使用 Element Plus 阴影规范或自定义

### 9.1.1 SCSS 变量管理
```scss
// src/styles/variables.scss
// 主题色
$primary-color: #409eff;
$success-color: #67c23a;
$warning-color: #e6a23c;
$danger-color: #f56c6c;
$info-color: #909399;

// 间距
$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 16px;
$spacing-lg: 24px;
$spacing-xl: 32px;

// 字体
$font-size-base: 14px;
$font-size-small: 12px;
$font-size-large: 16px;
```

### 9.2 响应式设计
- **断点定义**：
  - 移动端：< 768px
  - 平板：768px - 1024px
  - 桌面端：> 1024px
- **适配方案**：[响应式实现方案，如：媒体查询、Element Plus 的栅格系统、Flex/Grid 布局]
- **Vue 3 响应式工具**：
  - 使用 `useMediaQuery` 组合式函数监听媒体查询
  - 使用 `computed` 根据屏幕尺寸计算样式

## 10. 数据流设计

### 10.1 数据流向
[描述数据在应用中的流动方式，如：API → Store → Component → Template]

### 10.2 数据获取时机
- **初始化数据**：在 `onMounted` 生命周期钩子中获取
- **交互触发数据**：通过事件处理函数触发数据获取
- **定时刷新数据**：使用 `setInterval` 或 `useInterval` 组合式函数
- **响应式数据更新**：使用 `watch` 或 `watchEffect` 监听数据变化

### 10.3 Vue 3 生命周期使用
- **setup()**：组件创建前执行，Composition API 的入口
- **onBeforeMount**：挂载前
- **onMounted**：挂载后（常用：获取初始数据）
- **onBeforeUpdate**：更新前
- **onUpdated**：更新后
- **onBeforeUnmount**：卸载前（常用：清理定时器、取消订阅）
- **onUnmounted**：卸载后

## 11. 性能优化

### 11.1 代码优化
- **代码分割**：使用 Vite 的动态导入实现路由级别的代码分割
- **懒加载**：
  - 路由懒加载：`component: () => import('@/views/Page.vue')`
  - 组件懒加载：使用 `defineAsyncComponent`
  - 图片懒加载：使用 `v-lazy` 指令或 Intersection Observer
- **Tree Shaking**：Vite 自动支持，确保使用 ES Module 导入
- **组件优化**：
  - 使用 `v-memo` 指令缓存 v-for 渲染结果
  - 使用 `v-once` 指令渲染一次后不再更新
  - 合理使用 `shallowRef` 和 `shallowReactive` 减少深度响应式开销
  - 使用 `markRaw` 标记不需要响应式的对象

### 11.2 资源优化
- **图片优化**：[图片优化方案]
- **资源压缩**：[资源压缩策略]
- **CDN配置**：[CDN使用方案]

### 11.3 缓存策略
- **浏览器缓存**：[缓存策略，如：HTTP 缓存头配置]
- **数据缓存**：
  - 使用 Pinia 持久化插件（如：`pinia-plugin-persistedstate`）缓存状态
  - 使用 `localStorage` / `sessionStorage` 缓存用户数据
  - 使用 `Map` 或内存缓存 API 响应数据
- **组件缓存**：使用 `<KeepAlive>` 组件缓存路由组件

## 12. 错误处理

### 12.1 错误类型
- **网络错误**：[处理方式，如：请求超时、网络断开]
- **业务错误**：[处理方式，如：根据 API 返回的 code 处理]
- **系统错误**：[处理方式，如：JavaScript 运行时错误]

### 12.2 错误提示
- **提示方式**：
  - **ElMessage**：普通消息提示（成功、警告、错误）
  - **ElNotification**：通知提示（右上角弹出）
  - **ElMessageBox**：确认对话框
- **错误日志**：
  - 使用 `onErrorCaptured` 捕获组件错误
  - 使用全局错误处理：`app.config.errorHandler`
  - 集成错误监控服务（如：Sentry）

### 12.3 Vue 3 错误处理示例
```typescript
// main.ts
app.config.errorHandler = (err, instance, info) => {
  // 全局错误处理
  console.error('全局错误:', err, info);
  // 上报错误到监控服务
};
```

## 13. 测试策略

### 13.1 测试类型
- **单元测试**：
  - 测试工具：Vitest + Vue Test Utils
  - 覆盖范围：组合式函数、工具函数、组件逻辑
- **组件测试**：
  - 测试工具：Vitest + @vue/test-utils
  - 测试内容：组件渲染、Props、Events、Slots
- **E2E测试**：
  - 测试工具：Playwright / Cypress
  - 测试场景：关键业务流程

### 13.2 测试用例
[关键功能测试用例]

## 14. 开发规范

### 14.1 代码规范
- **编码规范**：
  - **ESLint 配置**：
    - 插件：`eslint-plugin-vue`（Vue 3 规则）
    - 规则集：`plugin:vue/vue3-essential` 或 `plugin:vue/vue3-strongly-recommended`
    - 与 Prettier 集成：使用 `eslint-config-prettier` 避免冲突
  - **Prettier 配置**：
    - 统一代码格式化规则
    - 支持 Vue、TypeScript、JavaScript、JSON、SCSS 等文件
    - 配置项：缩进、引号、分号、换行等
  - **Vue 3 风格指南**：遵循官方风格指南
- **Vue 3 编码规范**：
  - 使用 `<script setup>` 语法糖
  - Props 和 Emits 使用 TypeScript 定义
  - 组合式函数命名以 `use` 开头
  - 组件名使用 PascalCase
  - 对象和数组使用拖尾逗号
- **类型检查规范**：
  - 使用 `vue-tsc` 进行类型检查
  - 所有 `.vue` 文件必须通过类型检查
  - 在 CI/CD 中集成类型检查流程
- **注释规范**：
  - 复杂逻辑必须添加注释
  - 组合式函数需要 JSDoc 注释
  - 组件 Props 和 Emits 需要类型和描述
- **Git提交规范**：遵循 Conventional Commits
  - 格式：`<type>(<scope>): <subject>`
  - 类型：feat、fix、docs、style、refactor、test、chore
  - 示例：`feat(user): 添加用户登录功能`

### 14.2 开发流程
1. [开发步骤1]
2. [开发步骤2]
3. [开发步骤3]

## 15. 部署方案

### 15.1 构建配置
- **构建命令**：`npm run build`
- **构建工具**：Vite
- **构建产物**：`dist/` 目录
- **环境变量**：
  - 使用 `import.meta.env` 访问环境变量
  - `.env`：所有环境的默认变量
  - `.env.development`：开发环境变量
  - `.env.production`：生产环境变量
  - 变量命名：`VITE_` 前缀（如：`VITE_API_BASE_URL`）
- **Vite 配置优化**：
  - **自动导入**：使用 `unplugin-vue-components` 自动导入 Element Plus 组件
  - **路径别名**：配置 `@` 指向 `src` 目录
  - **构建优化**：
    - 生产环境自动启用代码压缩和 Tree Shaking
    - 可配置代码分割策略
    - 支持预渲染和 SSR（如需要）
  - **开发服务器**：HMR（热模块替换）支持

### 15.2 部署流程
1. [部署步骤1]
2. [部署步骤2]
3. [部署步骤3]

## 16. Vue 3 特性应用

### 16.1 Composition API 最佳实践
- **优先使用 `<script setup>`**：更简洁的语法
- **合理使用响应式 API**：
  - `ref`：基本类型和对象引用
  - `reactive`：对象和数组（注意解构会丢失响应式）
  - `computed`：计算属性
  - `watch` / `watchEffect`：监听数据变化
- **组合式函数复用**：将可复用逻辑抽取为 composables

### 16.2 Vue 3 新特性
- **Teleport**：将组件渲染到 DOM 树的指定位置（如：Modal、Toast）
- **Suspense**：异步组件加载状态处理
- **Fragment**：组件可以有多个根节点
- **v-model 增强**：支持多个 v-model 和自定义修饰符

### 16.3 性能优化特性
- **响应式系统优化**：Proxy 替代 Object.defineProperty
- **编译时优化**：静态提升、补丁标记等
- **Tree Shaking 支持**：更好的按需加载

## 17. 后续优化计划

### 17.1 短期优化
- [优化项1]
- [优化项2]

### 17.2 长期规划
- [规划项1]
- [规划项2]

## 18. 技术栈详细说明

### 18.1 核心依赖版本
```json
{
  "dependencies": {
    "vue": "^3.4.0",
    "vue-router": "^4.2.0",
    "pinia": "^2.1.0",
    "element-plus": "^2.4.0",
    "@element-plus/icons-vue": "^2.3.0"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^5.0.0",
    "vite": "^5.0.0",
    "typescript": "^5.3.0",
    "vue-tsc": "^1.8.0",
    "vitest": "^1.0.0",
    "@vue/test-utils": "^2.4.0",
    "eslint": "^8.56.0",
    "eslint-plugin-vue": "^9.19.0",
    "prettier": "^3.1.0",
    "sass": "^1.69.0",
    "unplugin-vue-components": "^0.26.0",
    "unplugin-auto-import": "^0.17.0"
  }
}
```

### 18.2 图标库使用说明

#### 18.2.1 Element Plus Icons
- **官方图标库**：`@element-plus/icons-vue`
- **图标列表**：https://element-plus.org/zh-CN/component/icon.html
- **使用示例**：
  ```vue
  <template>
    <el-button :icon="Edit">编辑</el-button>
    <el-icon class="is-loading"><Loading /></el-icon>
  </template>
  <script setup lang="ts">
  import { Edit, Loading } from '@element-plus/icons-vue';
  </script>
  ```

#### 18.2.2 Iconify（推荐扩展图标库）
- **安装**：`npm install @iconify/vue`
- **优势**：包含 100+ 图标集，图标数量超过 100,000
- **使用示例**：
  ```vue
  <template>
    <Icon icon="mdi:home" />
    <Icon icon="carbon:user" />
  </template>
  <script setup lang="ts">
  import { Icon } from '@iconify/vue';
  </script>
  ```
- **图标搜索**：https://icon-sets.iconify.design/

### 18.3 配置文件示例

#### 18.3.1 ESLint 配置（.eslintrc.cjs）
```javascript
module.exports = {
  env: {
    browser: true,
    es2021: true,
    node: true,
  },
  extends: [
    'eslint:recommended',
    'plugin:vue/vue3-essential',
    'plugin:vue/vue3-strongly-recommended',
    'plugin:@typescript-eslint/recommended',
    'prettier',
  ],
  parser: 'vue-eslint-parser',
  parserOptions: {
    ecmaVersion: 'latest',
    parser: '@typescript-eslint/parser',
    sourceType: 'module',
  },
  plugins: ['vue', '@typescript-eslint'],
  rules: {
    // 自定义规则
  },
};
```

#### 18.3.2 Prettier 配置（.prettierrc）
```json
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100,
  "arrowParens": "avoid",
  "endOfLine": "lf"
}
```

#### 18.3.3 Vite 配置（vite.config.ts）
```typescript
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import { resolve } from 'path';
import AutoImport from 'unplugin-auto-import/vite';
import Components from 'unplugin-vue-components/vite';
import { ElementPlusResolver } from 'unplugin-vue-components/resolvers';

export default defineConfig({
  plugins: [
    vue(),
    AutoImport({
      resolvers: [ElementPlusResolver()],
      // 自动导入 Vue 3 Composition API
      imports: ['vue', 'vue-router', 'pinia'],
    }),
    Components({
      resolvers: [ElementPlusResolver()],
      // 自动导入 Element Plus 组件
    }),
  ],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
    },
  },
  css: {
    preprocessorOptions: {
      scss: {
        // 全局注入 SCSS 变量
        additionalData: `@import "@/styles/variables.scss";`,
      },
    },
  },
  server: {
    port: 3000,
    open: true,
    proxy: {
      // 开发环境代理配置
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
      },
    },
  },
});
```

#### 18.3.4 TypeScript 配置（tsconfig.json）
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "module": "ESNext",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "preserve",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
  },
  "include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.tsx", "src/**/*.vue"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
```

## 19. 附录

### 19.1 参考资料
- **Vue 3 官方文档**：https://cn.vuejs.org/
- **Vue Router 文档**：https://router.vuejs.org/zh/
- **Pinia 文档**：https://pinia.vuejs.org/zh/
- **Vite 文档**：https://cn.vitejs.dev/
- **Element Plus 文档**：https://element-plus.org/zh-CN/
- **Element Plus Icons**：https://element-plus.org/zh-CN/component/icon.html
- **Vitest 文档**：https://cn.vitest.dev/
- **ESLint Vue 插件**：https://eslint.vuejs.org/
- **Prettier 文档**：https://prettier.io/
- [设计稿链接]
- [API文档链接]

### 19.2 开发工具推荐
- **Vue DevTools**：Vue 3 开发者工具（浏览器扩展）
  - 功能：组件树查看、状态调试、性能分析
- **Volar**：Vue 3 的 VSCode 插件（替代 Vetur）
  - 功能：Vue 3 语法高亮、类型检查、智能提示
- **TypeScript Vue Plugin**：TypeScript 对 Vue 文件的支持
- **ESLint**：VSCode ESLint 插件（实时代码检查）
- **Prettier**：VSCode Prettier 插件（自动格式化）
- **Vitest**：VSCode Vitest 插件（测试运行和调试）

### 19.2.1 推荐 VSCode 配置
```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "[vue]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  }
}
```

### 19.3 变更记录
| 日期 | 版本 | 变更内容 | 变更人 |
|------|------|---------|--------|
| YYYY-MM-DD | v1.0 | 初始版本，适配 Vue 3 | [姓名] |

---

**文档维护者**：[姓名]  
**最后更新时间**：[YYYY-MM-DD]








